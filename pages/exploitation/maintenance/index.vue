<template>
  <div>
    <div class="col-md-12 col-sm-12">
      <b-tabs v-model="tabIndex" lazy content-class="mt-7" active-nav-item-class="font-weight-bold">
        <b-tab title="Tableau" :title-link-class="linkClass(0)">
          <tableau-maintenance />
        </b-tab>
        <b-tab title="Reparations" :title-link-class="linkClass(1)">
          <liste-reparation v-if="!archive.reparation" @archivage="archive.reparation = true" />
          <liste-reparation-archive v-else @back="onBack(0)" />
        </b-tab>
        <b-tab title="Techniciens" :title-link-class="linkClass(2)">
          <liste-technicien v-if="!archive.technicien" @archivage="archive.technicien = true" />
          <liste-technicien-archive v-else @back="onBack(1)" />
        </b-tab>
        <b-tab title="Ordre de rÃ©parations" :title-link-class="linkClass(3)">
          <liste-ordre />
        </b-tab>
      </b-tabs>
    </div>
  </div>
</template>
<script>
import TableauMaintenance from '~/components/exploitation/maintenance/TableauMaintenance.vue'
import ListeTechnicien from '~/components/exploitation/maintenance/technicien/ListeTechnicien.vue'
import ListeTechnicienArchive from '~/components/exploitation/maintenance/technicien/ListeTechnicienArchive.vue'
import ListeReparation from '~/components/exploitation/maintenance/reparation/ListeReparation.vue'
import ListeReparationArchive from '~/components/exploitation/maintenance/reparation/ListeReparationArchive.vue'
import ListeOrdre from '~/components/exploitation/maintenance/ordre/ListeOrdre.vue'
export default {
  components: {
    TableauMaintenance,
    ListeOrdre,
    ListeReparation,
    ListeReparationArchive,
    ListeTechnicien,
    ListeTechnicienArchive,
  },
  data: () => ({
    tabIndex: 0,
    archive: { reparation: false, technicien: false },
  }),
  methods: {
    linkClass(idx) {
      if (this.tabIndex === idx) {
        return ['bg-white', 'text-primary']
      } else {
        return ['bg-light', 'text-primary']
      }
    },
    onBack(numero) {
      if (numero === 0) this.archive.reparation = false
      else if (numero === 1) this.archive.technicien = false
    },
  },
}
</script>
<style></style>
